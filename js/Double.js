var cards = [['רכבת', 'סקטבורד', 'מטוס', 'עפרון', 'שבשבת', 'כן ציור', 'עגבניה', 'אניה', "../images/cards/card-01.png"],
['אוטובוס', 'חציל', 'מצנפת', 'פטריה', 'תו', 'בלון', 'מטוס', 'חבל', "../images/cards/card-02.png"],
['מטוס', 'עציץ', 'ברווז', 'מוצץ', 'כוכב לכת', 'דלי', 'טלסקופ', 'גלובוס', "../images/cards/card-03.png"],
['כוכב', 'כדור', 'עוגן', 'מצלמה', 'משקפיים', 'מיץ', 'מטוס', 'דובי', "../images/cards/card-04.png"],
['גרב', 'סינר', 'כוכב ים', 'סיכת ביטחון', 'פפיון', 'ארטיק', 'מטוס', 'פרח', "../images/cards/card-05.png"],
['ענן', 'קרם הגנה', 'מספריים', 'לב', 'מטריה', 'קרטיב', 'מטוס', 'אבטיח', "../images/cards/card-06.png"],
['ירח', 'קשקשן', 'בקבוק', 'גלידה', 'גלשן', 'קוביות', 'מטוס', 'שמש', "../images/cards/card-07.png"],
['פפיון', 'תו', 'גלובוס', 'טיל', 'כדור', 'שמש', 'עגבניה', 'מטריה', "../images/cards/card-08.png"],
['מיץ', 'חציל', 'גלידה', 'מוצץ', 'סקטבורד', 'גרב', 'טיל', 'ענן', "../images/cards/card-09.png"],
['שעון', 'סקטבורד', 'פטריה', 'סינר', 'מצלמה', 'שמש', 'מספריים', 'ברווז', "../images/cards/card-10.png"],
['קשקשן', 'סקטבורד', 'עציץ', 'בלון', 'כובע', 'פרח', 'משקפיים', 'מטריה', "../images/cards/card-11.png"],
['ירח', 'פפיון', 'עוגן', 'אבטיח', 'כוכב לכת', 'ספרים', 'סקטבורד', 'חבל', "../images/cards/card-12.png"],
['סקטבורד', 'כדור', 'מחשבון', 'קרם הגנה', 'סיכת ביטחון', 'גלגל', 'טלסקופ', 'קוביות', "../images/cards/card-13.png"],
['כוכב', 'ארטיק', 'גלשן', 'אוטובוס', 'לב', 'תוף', 'סקטבורד', 'גלובוס', "../images/cards/card-14.png"],
['סקטבורד', 'גזר', 'כוכב ים', 'תו', 'בקבוק', 'קרטיב', 'דלי', 'דובי', "../images/cards/card-15.png"],
['ברווז', 'משקפיים', 'גזר', 'קרם הגנה', 'חציל', 'פפיון', 'עפרון', 'גלשן', "../images/cards/card-16.png"],
['פטריה', 'עוגן', 'סיכת ביטחון', 'עפרון', 'בקבוק', 'עציץ', 'טיל', 'לב', "../images/cards/card-17.png"],
['עפרון', 'כדור', 'בלון', 'כוכב לכת', 'ארטיק', 'קרטיב', 'גלידה', 'שעון' , "../images/cards/card-18.png"],
['שמש', 'כובע', 'טלסקופ', 'ענן', 'כוכב ים', 'כוכב', 'עפרון', 'חבל', "../images/cards/card-19.png"],
['גרב', 'דובי', 'מספריים', 'עפרון', 'מחשבון', 'גלובוס', 'קשקשן', 'ספרים', "../images/cards/card-20.png"],
['סינר', 'מיץ', 'גלגל', 'עפרון', 'אוטובוס', 'ירח', 'מטריה', 'דלי', "../images/cards/card-21.png"],
['קוביות', 'תו', 'מוצץ', 'עפרון', 'מצלמה', 'תוף', 'אבטיח', 'פרח', "../images/cards/card-22.png"],
['חציל', 'כוכב ים', 'כדור', 'תוף', 'שבשבת', 'עציץ', 'ירח', 'מספריים', "../images/cards/card-23.png"],
['פטריה', 'כוכב', 'כוכב לכת', 'גרב', 'מטריה', 'שבשבת', 'גזר', 'קוביות', "../images/cards/card-24.png"],
['טלסקופ', 'גלשן', 'טיל', 'בלון', 'שבשבת', 'דובי', 'אבטיח', 'סינר', "../images/cards/card-25.png"],
['בקבוק', 'קרם הגנה', 'חבל', 'גלובוס', 'מיץ', 'שבשבת', 'פרח', 'שעון', "../images/cards/card-26.png"],
['דלי', 'מצלמה', 'שבשבת', 'גלידה', 'כובע', 'פפיון', 'מחשבון', 'לב', "../images/cards/card-27.png"],
['משקפיים', 'שמש', 'שבשבת', 'מוצץ', 'קרטיב', 'ספרים', 'סיכת ביטחון', 'אוטובוס',"../images/cards/card-28.png"],
['עוגן', 'גלגל', 'ארטיק', 'ענן', 'תו', 'ברווז', 'שבשבת', 'קשקשן', "../images/cards/card-29.png"],
['דובי', 'שמש', 'אניה', 'חציל', 'פרח', 'כוכב לכת', 'גלגל', 'לב', "../images/cards/card-30.png"],
['אניה', 'קשקשן', 'תוף', 'מיץ', 'פפיון', 'פטריה', 'טלסקופ', 'קרטיב', "../images/cards/card-31.png"]]


var card1,card2;
var points=0;
function randomCards() { //פונקציה ששולפת שתי קלפים שונים בצורה רנדומלית ומציגה אותם
    var x=Math.floor(Math.random() * cards.length-1);
    do{
    var y=Math.floor(Math.random() * cards.length-1);
    }
    while(x==y)
    card1=x;
    card2=y;
    document.getElementById("card1picture").setAttribute('src', cards[card1][8]);
    document.getElementById("card2picture").setAttribute('src', cards[card2][8]);
    startTimer();
}

function btn(event) {//פונקציה שבודקת האם הציור שנלחץ שווה לציור התואם בין שתי הקלפים
    let same="";
    for (let i = 0; i < cards.length; i++) {
        for (let j = 0; j < cards[0].length; j++) {
            if(cards[card1][i]==cards[card2][j]){
               same=cards[card1][i];
               break;
            }
        }
    }
    if (event==same) {
        randomCards();
        points+=5;
        document.getElementById("spanPoints").innerText = "points : " + points;
        if(timeLeft>0){
            clearInterval(timer);
        }
        resetTimer();
    }
    else if(points>0){
           points-=5;
           document.getElementById("spanPoints").innerText = "points : " + points;
    }
    else 
        window.location="gameOver.html"; 
}

//פונקציות לטיימר
let timer;
let timeLeft = 20;
document.getElementById("seconds").innerText=timeLeft;

function startTimer() {
    clearInterval(timer);
    timeLeft = 20;
    timer = setInterval(() => {
    if (timeLeft === 0) {
        clearInterval(timer);
        window.location="gameOver.html"; 
    } 
    else {
        document.getElementById("seconds").innerText=timeLeft;
        timeLeft--;
    }
  }, 1000);
}

function resetTimer() {
  clearInterval(timer);
  timeLeft = 20;
  startTimer();
}
